name: dcat-harvester
version: 1.0.0

mappings:
  - name: harvest-catalog
    fetch: ${SOURCE_URL}
    frame: src/frames/catalog-with-datasets.jsonld
    steps:
      - transform: src/transforms/to-molgenis.jslt
        tests:
          - input: test/transform/dcat-input.json
            output: test/transform/molgenis-output.json

      - mutate: src/mutations/upsert-resources.gql

tableName,tableExtends,columnName,columnType,key,required,refSchema,refTable,refLink,refBack,validation,visible,defaultValue,semantics,description,profiles,computed
Agents,,,,,,,,,,,,,"foaf:Agent,org:Organization","An organisation, department or individual","DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE",
Agents,,resource,ref,1,TRUE,,Resources,,,,,,,Resource this Agent is associated with,"DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE",
Agents,,id,,1,TRUE,,,,,,,,,"Internal identifier. Ideally fill out acronym for an organisation (e.g. UMCG) and full name for a person (e.g. Ada Lovelace)""","DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE",
Agents,,type,ontology,,TRUE,CatalogueOntologies,Agent types,,,,,=mg_tableclass.includes('Organisations')? {name: 'Organisation'} : undefined,,Type of agent: person or organisation,"DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE",
Agents,,name,,,,,,,,,type?.name === 'Individual',,,Name of the individual,"DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE",
Agents,,organisation,ref,,,CatalogueOntologies,Organisations,,,,type?.name === 'Organisation',,,Organisation name from Research Organization Registry (ROR).,"DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE,FAIR Genomes",
Agents,,other organisation,text,,,,,,,,type?.name === 'Organisation',,,"If your organisation is not listed, please look up in ROR: https://ror.org/ and preferably provide ROR id, otherwise fill out your organisation name.","DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE,FAIR Genomes",
Agents,,department,,,,,,,,,type?.name === 'Organisation',,,Name of department within the organisation,"DataCatalogueFlat,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,INTEGRATE",
Agents,,website,hyperlink,,,,,,,,type?.name === 'Individual',,foaf:homepage,A website representing this Agent,"DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE",
Agents,,email,email,,if(resource?.hricore === true) 'This field is mandatory for HRICore compatibility',,,,,,,,foaf:mbox,E-mail address to contact this organisation or individual,"DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE",
Agents,,logo,file,,,,,,,,type?.name === 'Organisation',,foaf:logo,Logo of the organisation,"DataCatalogueFlat,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,INTEGRATE,FAIR Genomes",
Agents,,role,ontology_array,,,CatalogueOntologies,Organisation roles,,,,type?.name === 'Organisation',,,Type(s) of contribution or role in the resource,"DataCatalogueFlat,EMA,CohortsStaging,RWEStaging,NetworksStaging,StudiesStaging,UMCGCohortsStaging,UMCUCohorts,INTEGRATE,FAIR Genomes",
Agents,,organisation name,,,,,,,,,,,foaf:name,"Organisation name, copied value from ROR ontology for DCAT conform RDF generation","DataCatalogueFlat,EMA",organisation?.name
Agents,,organisation pid,,,,,,,,,,,dcterms:identifier,"ROR id, copied value from ROR ontology for DCAT conform RDF generation","DataCatalogueFlat,EMA","(function () {
  try {
    const pseudoId = organisation?.name;
    console.log(""pseudoId:"", pseudoId);
    if (!pseudoId) return null;

    const query = ""query Organisations($filter: OrganisationsFilter) { Organisations(filter: $filter) { organisation { name ontologyTermURI } } }"";

    const variables = {
      filter: {
       organisation: {
          name: {
            equals: pseudoId
          }
        }
      }
    };

    const response = simplePostClient(query, variables, ""catalogue"");
    console.log(""GraphQL response:"", response);

    const orgs = response?.Organisations?.[0];
    const organisationPid = orgs?.organisation?.ontologyTermURI;
    console.log(""organisationPid:"", organisationPid);

    return organisationPid || null;

  } catch (error) {
    console.error(""Failed to compute organisationPid:"", error);
    return null;
  }
})();"
Agents,,organisation website,hyperlink,,,,,,,,,,foaf:homepage,"Organisation website, copied value from ROR ontology for DCAT conform RDF generation","DataCatalogueFlat,EMA","(function () {
  try {
    const pseudoId = organisation?.name;
    console.log(""pseudoId:"", pseudoId);
    if (!pseudoId) return null;

    const query = ""query Organisations($filter: OrganisationsFilter) { Organisations(filter: $filter) { organisation { name website } } }"";

    const variables = {
      filter: {
       organisation: {
          name: {
            equals: pseudoId
          }
        }
      }
    };

    const response = simplePostClient(query, variables, ""catalogue"");
    console.log(""GraphQL response:"", response);

    const orgs = response?.Organisations?.[0];
    const organisationWebsite = orgs?.organisation?.website;
    console.log(""organisationWebsite:"", organisationWebsite);

    return organisationWebsite || null;

  } catch (error) {
    console.error(""Failed to compute website:"", error);
    return null;
  }
})();"
